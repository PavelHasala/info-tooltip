<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Tooltip info bubble</title>
  <link rel="stylesheet" href="./tib.css">
</head>
<body>
  <fieldset>
    <legend><label>direction: </label></legend>
    <select name="direction" id="direction">
      <option value="right">right</option>
      <option value="left">left</option>
      <option value="bottom">bottom</option>
      <option value="top">top</option>
    </select>
  </fieldset>

  <fieldset>
    <legend><label>position:</label></legend>
    <select name="position" id="position">
      <option value="start">start</option>
      <option value="middle">middle</option>
      <option value="end">end</option>
    </select>
  </fieldset>
  <hr>

  <h1>Tooltip info bubbliny</h1>

    <input name="test" data-tib-content="Do políčka zadejte počátečníh 6 číslic z Vaší karty, která naleznete na přední straně." class="ti-bubble" data-tib-event="focus" data-tib-direction="right" data-tib-position="middle">

  <hr>

    <input name="centered" data-tib-content="Do políčka zadejte poslední." class="ti-bubble" data-tib-direction="right" data-tib-position="middle">

  <hr>

  <span style="margin-left: 200px;" class="ti-bubble" title="text text text bla" data-tib-direction="right" data-tib-position="middle">Text s tootlupem</span>

  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>

  <script src="./object.assign.polyfill.js"></script>
  <script>
    var _directionSel = document.getElementById('direction')
    var _positionSel = document.getElementById('position')

    function setData () {
      var _tis = document.querySelectorAll('.ti-bubble')
      var _i = 0
      var _length = _tis.length
  
      for (_i, _length; _i < _length; _i++) {
        var _tooltip = _tis[_i]
        var _direction = _directionSel.selectedOptions[0]
        var _position = _positionSel.selectedOptions[0]

        _tooltip.setAttribute('data-tib-direction', _direction.value)
        _tooltip.setAttribute('data-tib-position', _position.value)

        // console.log(_direction.value, _position.value)
        
        localStorage.setItem('position', _position.index || 0)
        localStorage.setItem('direction', _direction.index || 0)
      } 
    }

    _directionSel.selectedIndex = localStorage.getItem('direction')
    _positionSel.selectedIndex = localStorage.getItem('position')

    _directionSel.addEventListener('change', function () { setData(); window.location.reload() } )
    _positionSel.addEventListener('change',  function () { setData(); window.location.reload() } )
    
    setData()
  </script>

  <script src="./tib.js"></script>
</body></html>